{"version":3,"sources":["logo.svg","store/login/selectors.js","store/login/types.js","store/login/actions.js","container/login-form/LoginForm.jsx","container/Login/Login.jsx","store/users/types.js","store/users/actions.js","container/users-list/UsersList.jsx","components/privateRoute/PrivateRoute.js","App.js","reportWebVitals.js","store/login/index.js","store/users/index.js","store/rootReducer.js","store/index.js","index.js"],"names":["userLoginSelector","state","LOGIN_USER","USERS_LIST","LOGIN_USER_INIT","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","userLogin","username","password","dispatch","type","loginFail","error","payload","fetch","method","headers","body","JSON","stringify","then","response","json","data","jwt","localStorage","token","loginSuccess","LoginForm","isLoading","useState","email2","form","setForm","useDispatch","handleInputChange","event","target","name","value","handleSubmit","useCallback","preventDefault","noValidate","autoComplete","onSubmit","className","id","placeholder","onChange","color","disabled","Login","userData","useSelector","Object","keys","length","loading","isError","USERS_LIST_INIT","USERS_LIST_SUCCESS","USERS_LIST_ERROR","userList","userListFail","userListSuccess","UsersList","users","useEffect","map","user","PrivateRoute","Component","component","isLogin","Rest","render","routeProps","to","App","success","login","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialStore","rootReducer","combineReducers","prevState","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77c330d5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const userLoginSelector = state => state\n","const LOGIN_USER = 'LOGIN_USER';\nconst USERS_LIST = 'USERS_LIST';\nexport const LOGIN_USER_INIT = `${LOGIN_USER}_INIT`;\nexport const LOGIN_USER_SUCCESS = `${LOGIN_USER}_SUCCESS`;\nexport const LOGIN_USER_ERROR = `${LOGIN_USER}_ERROR`;\nexport const USERS_LIST_INIT = `${USERS_LIST}_INIT`;\nexport const USERS_LIST_SUCCESS = `${USERS_LIST}_SUCCESS`;\nexport const USERS_LIST_ERROR = `${USERS_LIST}_ERROR`;","import {\n  LOGIN_USER_ERROR,\n  LOGIN_USER_INIT,\n  LOGIN_USER_SUCCESS,\n} from \"./types\";\n\nexport const userLogin = ({ username, password }) => {\n  return (dispatch) => {\n    dispatch({ type: LOGIN_USER_INIT });\n\n    const loginSuccess = (username) => {\n      dispatch({ type: LOGIN_USER_SUCCESS, payload: username });\n    };\n    const loginFail = (error) => {\n      dispatch({ type: LOGIN_USER_ERROR, payload: error });\n    };\n\n    try {\n      fetch(\"http://localhost:4000/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username,\n          password,\n        }),\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          if (data.jwt) {\n            localStorage.token = data.jwt;\n            loginSuccess(username);\n          } else loginFail(data.error);\n        });\n    } catch (error) {\n      loginFail(error);\n    }\n  };\n};\n","import React, { useState, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { userLogin } from \"../../store/login/actions\";\n\nexport const LoginForm = ({ isLoading }) => {\n\n  const [form, setForm] = useState({\n    username: \"\",\n    password: \"\",\n    email2:\"email2\"\n  });\n  const dispatch = useDispatch();\n\n  const handleInputChange = (event) => {\n      const target = event.target;\n      setForm({\n        ...form,\n        [target.name]: target.value,\n      });\n    }\n\n  const handleSubmit = useCallback(\n    (event) => {\n      event.preventDefault();\n      dispatch(userLogin(form));\n    },\n    [dispatch, form]\n  );\n\n  return (\n    <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n      <div className=\"card\">\n        <input\n          id='username'\n          name=\"username\"\n          className=\"form-control email\"\n          placeholder=\"username\"\n          onChange={handleInputChange}\n          value={form.username}\n        />\n      </div>\n      <div className=\"card\">\n        <input\n          name=\"email\"\n          className=\"form-control email d-none\"\n          placeholder=\"email2\"\n          onChange={handleInputChange}\n          value={form.email2}\n        />\n      </div>\n      <div className=\"card\">\n        <input\n          id=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Password\"\n          type=\"password\"\n          onChange={handleInputChange}\n          value={form.password}\n        />\n      </div>\n      <div className=\"card\">\n        <button\n          id=\"buttonSubmit\"\n          className=\"btn btn-primary\"\n          color=\"primary\"\n          disabled={isLoading}\n          type=\"submit\"\n        >\n          {isLoading ? \"Loading...\" : \"Submit\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { userLoginSelector } from \"../../store/login/selectors\";\nimport { LoginForm } from \"../login-form/LoginForm\";\n\nexport const Login = () => {\n  const userData = useSelector(userLoginSelector);\n\n  if (userData.data && Object.keys(userData.data).length > 0) {\n    return (\n      <div className=\"card\">\n        <p id=\"log-success\">\n          Logged in as <b>{userData.data}</b>\n        </p>\n      </div>\n    );\n  }\n\n  const isLoading = userData.loading;\n  const isError = userData.error;\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6 offset-md-3 mt-5\">\n        <LoginForm isLoading={isLoading} />\n        {isError && (\n          <div className=\"card\">\n            <p id=\"paragraph\">\n              <b>Error: </b> {userData.error}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","const LOGIN_USER = 'LOGIN_USER';\nconst USERS_LIST = 'USERS_LIST';\nexport const USERS_LIST_INIT = `${USERS_LIST}_INIT`;\nexport const USERS_LIST_SUCCESS = `${USERS_LIST}_SUCCESS`;\nexport const USERS_LIST_ERROR = `${USERS_LIST}_ERROR`;","import {\n  USERS_LIST_INIT,\n  USERS_LIST_SUCCESS,\n  USERS_LIST_ERROR\n} from \"./types\";\n\nexport const userList = () => {\n  return (dispatch) => {\n    dispatch({ type: USERS_LIST_INIT });\n\n    const userListSuccess = (data) => {\n      dispatch({ type: USERS_LIST_SUCCESS, payload: data });\n    };\n    const userListFail = (error) => {\n      dispatch({ type: USERS_LIST_ERROR, payload: error });\n    };\n\n    try {\n      fetch(\"http://localhost:4000/users\", {\n        method: \"GET\",\n        headers: {\n          'Authorization': `Bearer ${localStorage.token}`,\n        },\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          if (data) {\n            userListSuccess(data);\n          } else userListFail(data.error);\n        });\n    } catch (error) {\n      userListFail(error);\n    }\n  };\n};\n","import React, { useEffect } from \"react\";\nimport { userList } from \"../../store/users/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction UsersList() {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.users.data);\n  useEffect(() => {\n    dispatch(userList());\n  }, []);\n\n  return (\n    <div>\n      {users.map((user) => {\n        return <div>{user.name}</div>;\n      })}\n    </div>\n  );\n}\n\nexport default UsersList;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst PrivateRoute = ({component: Component, isLogin, ...Rest}: Props) => {\n  // const isLogin = useSelector((state:any) => state.login.isLogin)\n  return isLogin ? <Route {...Rest} render={routeProps=><Component {...routeProps}/>}  /> : <Redirect to=\"/\" />;\n};\n\nexport default PrivateRoute;\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { Login } from \"./container/Login/Login\";\nimport { BrowserRouter as Router, NavLink, Route, Switch } from \"react-router-dom\";\nimport UsersList from \"./container/users-list/UsersList\";\nimport PrivateRoute from \"./components/privateRoute/PrivateRoute\";\nimport {useSelector} from 'react-redux'\n\nfunction App() {\n  const success = useSelector(state => state.login.success)\n  return (\n    <div className=\"App container\">\n      <Router>\n        <nav>\n          <ul>\n            <li>\n              <NavLink to=\"/\">Home</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/users\">Users</NavLink>\n            </li>\n          </ul>      \n        </nav>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Login />\n          </Route>\n          <PrivateRoute path=\"/users\" component={UsersList} isLogin={success} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { LOGIN_USER_ERROR, LOGIN_USER_INIT, LOGIN_USER_SUCCESS } from \"./types\";\nconst initialStore = {\n  data: {},\n  error: null,\n  success: null,\n  loading: false,\n};\n\n\nexport const loginReducer = (prevState = initialStore, action) => {\n  switch (action.type) {\n    case LOGIN_USER_INIT:\n      return {...prevState,\n        loading: true,\n      };\n    case LOGIN_USER_SUCCESS:\n      return {...prevState, \n        data: action.payload,\n        error: false,\n        success: true,\n        loading: false,\n      };\n    case LOGIN_USER_ERROR:\n      return {...prevState,\n        error: action.payload,\n        success: false,\n        loading: false,\n      };\n    default:\n      return prevState;\n  }\n};\n","import { USERS_LIST_INIT, USERS_LIST_SUCCESS, USERS_LIST_ERROR  } from \"./types\";\nconst initialStore = {\n  data: [],\n  error: null,\n  success: null,\n  loading: false,\n};\n\nexport const usersReducer = (prevState = initialStore, action) => {\n  switch (action.type) {\n    case USERS_LIST_INIT:\n      return {...prevState,\n        loading: true,\n      };\n    case USERS_LIST_SUCCESS:\n      return {...prevState, \n        data: action.payload,\n        error: false,\n        success: true,\n        loading: false,\n      };\n    case USERS_LIST_ERROR:\n      return {...prevState,\n        error: action.payload,\n        success: false,\n        loading: false,\n      };\n    default:\n      return prevState;\n  }\n};\n","import {combineReducers} from 'redux'\nimport {loginReducer} from './login'\nimport {usersReducer} from './users'\n\nconst rootReducer = combineReducers({\n    login: loginReducer,\n    users: usersReducer\n})\n\nexport default rootReducer","import { createDispatchHook } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { loginReducer } from \"./login\";\nimport rootReducer from './rootReducer'\n\nconst store = createStore(rootReducer,composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from './store'\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}